import{r as b,j as y,R as Pt,a as fn}from"./iframe-DH8CsTCL.js";import{r as Yn}from"./index-CeGRIuSC.js";import"./preload-helper-PPVm8Dsz.js";const he=new WeakMap,Xn=new WeakMap,Bt={current:[]};let Zt=!1,xt=0;const vt=new Set,kt=new Map;function pn(t){for(const n of t){if(Bt.current.includes(n))continue;Bt.current.push(n),n.recompute();const e=Xn.get(n);if(e)for(const o of e){const s=he.get(o);s?.length&&pn(s)}}}function Zn(t){const n={prevVal:t.prevState,currentVal:t.state};for(const e of t.listeners)e(n)}function Qn(t){const n={prevVal:t.prevState,currentVal:t.state};for(const e of t.listeners)e(n)}function mn(t){if(xt>0&&!kt.has(t)&&kt.set(t,t.prevState),vt.add(t),!(xt>0)&&!Zt)try{for(Zt=!0;vt.size>0;){const n=Array.from(vt);vt.clear();for(const e of n){const o=kt.get(e)??e.prevState;e.prevState=o,Zn(e)}for(const e of n){const o=he.get(e);o&&(Bt.current.push(e),pn(o))}for(const e of n){const o=he.get(e);if(o)for(const s of o)Qn(s)}}}finally{Zt=!1,Bt.current=[],kt.clear()}}function to(t){xt++;try{t()}finally{if(xt--,xt===0){const n=vt.values().next().value;n&&mn(n)}}}function eo(t){return typeof t=="function"}class no{constructor(n,e){this.listeners=new Set,this.subscribe=o=>{var s,r;this.listeners.add(o);const a=(r=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:r.call(s,o,this);return()=>{this.listeners.delete(o),a?.()}},this.prevState=n,this.state=n,this.options=e}setState(n){var e,o,s;this.prevState=this.state,(e=this.options)!=null&&e.updateFn?this.state=this.options.updateFn(this.prevState)(n):eo(n)?this.state=n(this.prevState):this.state=n,(s=(o=this.options)==null?void 0:o.onUpdate)==null||s.call(o),mn(this)}}const Y="__TSR_index",Ue="popstate",$e="beforeunload";function oo(t){let n=t.getLocation();const e=new Set,o=a=>{n=t.getLocation(),e.forEach(i=>i({location:n,action:a}))},s=a=>{t.notifyOnIndexChange??!0?o(a):n=t.getLocation()},r=async({task:a,navigateOpts:i,...c})=>{if(i?.ignoreBlocker??!1){a();return}const h=t.getBlockers?.()??[],d=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&h.length&&d)for(const u of h){const f=Dt(c.path,c.state);if(await u.blockerFn({currentLocation:n,nextLocation:f,action:c.type})){t.onBlocked?.();return}}a()};return{get location(){return n},get length(){return t.getLength()},subscribers:e,subscribe:a=>(e.add(a),()=>{e.delete(a)}),push:(a,i,c)=>{const l=n.state[Y];i=Ve(l+1,i),r({task:()=>{t.pushState(a,i),o({type:"PUSH"})},navigateOpts:c,type:"PUSH",path:a,state:i})},replace:(a,i,c)=>{const l=n.state[Y];i=Ve(l,i),r({task:()=>{t.replaceState(a,i),o({type:"REPLACE"})},navigateOpts:c,type:"REPLACE",path:a,state:i})},go:(a,i)=>{r({task:()=>{t.go(a),s({type:"GO",index:a})},navigateOpts:i,type:"GO"})},back:a=>{r({task:()=>{t.back(a?.ignoreBlocker??!1),s({type:"BACK"})},navigateOpts:a,type:"BACK"})},forward:a=>{r({task:()=>{t.forward(a?.ignoreBlocker??!1),s({type:"FORWARD"})},navigateOpts:a,type:"FORWARD"})},canGoBack:()=>n.state[Y]!==0,createHref:a=>t.createHref(a),block:a=>{if(!t.setBlockers)return()=>{};const i=t.getBlockers?.()??[];return t.setBlockers([...i,a]),()=>{const c=t.getBlockers?.()??[];t.setBlockers?.(c.filter(l=>l!==a))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:o}}function Ve(t,n){n||(n={});const e=me();return{...n,key:e,__TSR_key:e,[Y]:t}}function so(t){const n=typeof document<"u"?window:void 0,e=n.history.pushState,o=n.history.replaceState;let s=[];const r=()=>s,a=v=>s=v,i=(v=>v),c=(()=>Dt(`${n.location.pathname}${n.location.search}${n.location.hash}`,n.history.state));if(!n.history.state?.__TSR_key&&!n.history.state?.key){const v=me();n.history.replaceState({[Y]:0,key:v,__TSR_key:v},"")}let l=c(),h,d=!1,u=!1,f=!1,p=!1;const m=()=>l;let g,x;const w=()=>{g&&(_._ignoreSubscribers=!0,(g.isPush?n.history.pushState:n.history.replaceState)(g.state,"",g.href),_._ignoreSubscribers=!1,g=void 0,x=void 0,h=void 0)},P=(v,R,T)=>{const C=i(R);x||(h=l),l=Dt(R,T),g={href:C,state:T,isPush:g?.isPush||v==="push"},x||(x=Promise.resolve().then(()=>w()))},S=v=>{l=c(),_.notify({type:v})},k=async()=>{if(u){u=!1;return}const v=c(),R=v.state[Y]-l.state[Y],T=R===1,C=R===-1,E=!T&&!C||d;d=!1;const M=E?"GO":C?"BACK":"FORWARD",I=E?{type:"GO",index:R}:{type:C?"BACK":"FORWARD"};if(f)f=!1;else{const F=r();if(typeof document<"u"&&F.length){for(const st of F)if(await st.blockerFn({currentLocation:l,nextLocation:v,action:M})){u=!0,n.history.go(1),_.notify(I);return}}}l=c(),_.notify(I)},L=v=>{if(p){p=!1;return}let R=!1;const T=r();if(typeof document<"u"&&T.length)for(const C of T){const E=C.enableBeforeUnload??!0;if(E===!0){R=!0;break}if(typeof E=="function"&&E()===!0){R=!0;break}}if(R)return v.preventDefault(),v.returnValue=""},_=oo({getLocation:m,getLength:()=>n.history.length,pushState:(v,R)=>P("push",v,R),replaceState:(v,R)=>P("replace",v,R),back:v=>(v&&(f=!0),p=!0,n.history.back()),forward:v=>{v&&(f=!0),p=!0,n.history.forward()},go:v=>{d=!0,n.history.go(v)},createHref:v=>i(v),flush:w,destroy:()=>{n.history.pushState=e,n.history.replaceState=o,n.removeEventListener($e,L,{capture:!0}),n.removeEventListener(Ue,k)},onBlocked:()=>{h&&l!==h&&(l=h)},getBlockers:r,setBlockers:a,notifyOnIndexChange:!1});return n.addEventListener($e,L,{capture:!0}),n.addEventListener(Ue,k),n.history.pushState=function(...v){const R=e.apply(n.history,v);return _._ignoreSubscribers||S("PUSH"),R},n.history.replaceState=function(...v){const R=o.apply(n.history,v);return _._ignoreSubscribers||S("REPLACE"),R},_}function ro(t){let n=t.replace(/[\x00-\x1f\x7f]/g,"");return n.startsWith("//")&&(n="/"+n.replace(/^\/+/,"")),n}function Dt(t,n){const e=ro(t),o=e.indexOf("#"),s=e.indexOf("?"),r=me();return{href:e,pathname:e.substring(0,o>0?s>0?Math.min(o,s):o:s>0?s:e.length),hash:o>-1?e.substring(o):"",search:s>-1?e.slice(s,o===-1?void 0:o):"",state:n||{[Y]:0,key:r,__TSR_key:r}}}function me(){return(Math.random()+1).toString(36).substring(7)}const io=!1;function St(t){let n;return to(()=>{n=t()}),n}function wt(t){return t[t.length-1]}function ao(t){return typeof t=="function"}function q(t,n){return ao(t)?t(n):t}const co=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable;function A(t,n,e=0){if(t===n)return t;if(e>500)return n;const o=n,s=Ke(t)&&Ke(o);if(!s&&!(Ut(t)&&Ut(o)))return o;const r=s?t:We(t);if(!r)return o;const a=s?o:We(o);if(!a)return o;const i=r.length,c=a.length,l=s?new Array(c):{};let h=0;for(let d=0;d<c;d++){const u=s?d:a[d],f=t[u],p=o[u];if(f===p){l[u]=f,(s?d<i:co.call(t,u))&&h++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){l[u]=p;continue}const m=A(f,p,e+1);l[u]=m,m===f&&h++}return i===c&&h===i?t:l}function We(t){const n=Object.getOwnPropertyNames(t);for(const s of n)if(!ze.call(t,s))return!1;const e=Object.getOwnPropertySymbols(t);if(e.length===0)return n;const o=n;for(const s of e){if(!ze.call(t,s))return!1;o.push(s)}return o}function Ut(t){if(!He(t))return!1;const n=t.constructor;if(typeof n>"u")return!0;const e=n.prototype;return!(!He(e)||!e.hasOwnProperty("isPrototypeOf"))}function He(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ke(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function tt(t,n,e){if(t===n)return!0;if(typeof t!=typeof n)return!1;if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;for(let o=0,s=t.length;o<s;o++)if(!tt(t[o],n[o],e))return!1;return!0}if(Ut(t)&&Ut(n)){const o=e?.ignoreUndefined??!0;if(e?.partial){for(const a in n)if((!o||n[a]!==void 0)&&!tt(t[a],n[a],e))return!1;return!0}let s=0;if(!o)s=Object.keys(t).length;else for(const a in t)t[a]!==void 0&&s++;let r=0;for(const a in n)if((!o||n[a]!==void 0)&&(r++,r>s||!tt(t[a],n[a],e)))return!1;return s===r}return!1}function lt(t){let n,e;const o=new Promise((s,r)=>{n=s,e=r});return o.status="pending",o.resolve=s=>{o.status="resolved",o.value=s,n(s),t?.(s)},o.reject=s=>{o.status="rejected",e(s)},o}function at(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}function lo(t){return t.replace(/[\x00-\x1f\x7f]/g,"")}function Ge(t){let n;try{n=decodeURI(t)}catch{n=t.replaceAll(/%[0-9A-F]{2}/gi,e=>{try{return decodeURI(e)}catch{return e}})}return lo(n)}const gn=["http:","https:","mailto:","tel:"];function $t(t){if(!t)return!1;try{const n=new URL(t);return!gn.includes(n.protocol)}catch{return!1}}function ft(t,n){if(!t||!/[%\\\x00-\x1f\x7f]/.test(t)&&!t.startsWith("//"))return t;const e=/%25|%5C/gi;let o=0,s="",r;for(;(r=e.exec(t))!==null;)s+=Ge(t.slice(o,r.index))+r[0],o=e.lastIndex;return s=s+Ge(o?t.slice(o):t),s.startsWith("//")&&(s="/"+s.replace(/^\/+/,"")),s}function uo(t){return/\s|[^\u0000-\u007F]/.test(t)?t.replace(/\s|[^\u0000-\u007F]/gu,encodeURIComponent):t}var ho="Invariant failed";function K(t,n){if(!t)throw new Error(ho)}function Vt(t){const n=new Map;let e,o;const s=r=>{r.next&&(r.prev?(r.prev.next=r.next,r.next.prev=r.prev,r.next=void 0,o&&(o.next=r,r.prev=o)):(r.next.prev=void 0,e=r.next,r.next=void 0,o&&(r.prev=o,o.next=r)),o=r)};return{get(r){const a=n.get(r);if(a)return s(a),a.value},set(r,a){if(n.size>=t&&e){const c=e;n.delete(c.key),c.next&&(e=c.next,c.next.prev=void 0),c===o&&(o=void 0)}const i=n.get(r);if(i)i.value=a,s(i);else{const c={key:r,value:a,prev:o};o&&(o.next=c),o=c,e||(e=c),n.set(r,c)}},clear(){n.clear(),e=void 0,o=void 0}}}const ut=0,nt=1,ot=2,_t=3,Z=4,yn=5;function fo(t){const n=t.indexOf("{");if(n===-1)return null;const e=t.indexOf("}",n);return e===-1||n+1>=t.length?null:[n,e]}function ge(t,n,e=new Uint16Array(6)){const o=t.indexOf("/",n),s=o===-1?t.length:o,r=t.substring(n,s);if(!r||!r.includes("$"))return e[0]=ut,e[1]=n,e[2]=n,e[3]=s,e[4]=s,e[5]=s,e;if(r==="$"){const i=t.length;return e[0]=ot,e[1]=n,e[2]=n,e[3]=i,e[4]=i,e[5]=i,e}if(r.charCodeAt(0)===36)return e[0]=nt,e[1]=n,e[2]=n+1,e[3]=s,e[4]=s,e[5]=s,e;const a=fo(r);if(a){const[i,c]=a,l=r.charCodeAt(i+1);if(l===45){if(i+2<r.length&&r.charCodeAt(i+2)===36){const h=i+3,d=c;if(h<d)return e[0]=_t,e[1]=n+i,e[2]=n+h,e[3]=n+d,e[4]=n+c+1,e[5]=s,e}}else if(l===36){const h=i+1,d=i+2;return d===c?(e[0]=ot,e[1]=n+i,e[2]=n+h,e[3]=n+d,e[4]=n+c+1,e[5]=t.length,e):(e[0]=nt,e[1]=n+i,e[2]=n+d,e[3]=n+c,e[4]=n+c+1,e[5]=s,e)}}return e[0]=ut,e[1]=n,e[2]=n,e[3]=s,e[4]=s,e[5]=s,e}function Kt(t,n,e,o,s,r,a){a?.(e);let i=o;{const c=e.fullPath??e.from,l=c.length,h=e.options?.caseSensitive??t,d=!!(e.options?.params?.parse&&e.options?.skipRouteOnParseError?.params);for(;i<l;){const f=ge(c,i,n);let p;const m=i,g=f[5];switch(i=g+1,r++,f[0]){case ut:{const w=c.substring(f[2],f[3]);if(h){const P=s.static?.get(w);if(P)p=P;else{s.static??=new Map;const S=Q(e.fullPath??e.from);S.parent=s,S.depth=r,p=S,s.static.set(w,S)}}else{const P=w.toLowerCase(),S=s.staticInsensitive?.get(P);if(S)p=S;else{s.staticInsensitive??=new Map;const k=Q(e.fullPath??e.from);k.parent=s,k.depth=r,p=k,s.staticInsensitive.set(P,k)}}break}case nt:{const w=c.substring(m,f[1]),P=c.substring(f[4],g),S=h&&!!(w||P),k=w?S?w:w.toLowerCase():void 0,L=P?S?P:P.toLowerCase():void 0,_=!d&&s.dynamic?.find(v=>!v.skipOnParamError&&v.caseSensitive===S&&v.prefix===k&&v.suffix===L);if(_)p=_;else{const v=te(nt,e.fullPath??e.from,S,k,L);p=v,v.depth=r,v.parent=s,s.dynamic??=[],s.dynamic.push(v)}break}case _t:{const w=c.substring(m,f[1]),P=c.substring(f[4],g),S=h&&!!(w||P),k=w?S?w:w.toLowerCase():void 0,L=P?S?P:P.toLowerCase():void 0,_=!d&&s.optional?.find(v=>!v.skipOnParamError&&v.caseSensitive===S&&v.prefix===k&&v.suffix===L);if(_)p=_;else{const v=te(_t,e.fullPath??e.from,S,k,L);p=v,v.parent=s,v.depth=r,s.optional??=[],s.optional.push(v)}break}case ot:{const w=c.substring(m,f[1]),P=c.substring(f[4],g),S=h&&!!(w||P),k=w?S?w:w.toLowerCase():void 0,L=P?S?P:P.toLowerCase():void 0,_=te(ot,e.fullPath??e.from,S,k,L);p=_,_.parent=s,_.depth=r,s.wildcard??=[],s.wildcard.push(_)}}s=p}if(d&&e.children&&!e.isRoot&&e.id&&e.id.charCodeAt(e.id.lastIndexOf("/")+1)===95){const f=Q(e.fullPath??e.from);f.kind=yn,f.parent=s,r++,f.depth=r,s.pathless??=[],s.pathless.push(f),s=f}const u=(e.path||!e.children)&&!e.isRoot;if(u&&c.endsWith("/")){const f=Q(e.fullPath??e.from);f.kind=Z,f.parent=s,r++,f.depth=r,s.index=f,s=f}s.parse=e.options?.params?.parse??null,s.skipOnParamError=d,s.parsingPriority=e.options?.skipRouteOnParseError?.priority??0,u&&!s.route&&(s.route=e,s.fullPath=e.fullPath??e.from)}if(e.children)for(const c of e.children)Kt(t,n,c,i,s,r,a)}function Qt(t,n){if(t.skipOnParamError&&!n.skipOnParamError)return-1;if(!t.skipOnParamError&&n.skipOnParamError)return 1;if(t.skipOnParamError&&n.skipOnParamError&&(t.parsingPriority||n.parsingPriority))return n.parsingPriority-t.parsingPriority;if(t.prefix&&n.prefix&&t.prefix!==n.prefix){if(t.prefix.startsWith(n.prefix))return-1;if(n.prefix.startsWith(t.prefix))return 1}if(t.suffix&&n.suffix&&t.suffix!==n.suffix){if(t.suffix.endsWith(n.suffix))return-1;if(n.suffix.endsWith(t.suffix))return 1}return t.prefix&&!n.prefix?-1:!t.prefix&&n.prefix?1:t.suffix&&!n.suffix?-1:!t.suffix&&n.suffix?1:t.caseSensitive&&!n.caseSensitive?-1:!t.caseSensitive&&n.caseSensitive?1:0}function G(t){if(t.pathless)for(const n of t.pathless)G(n);if(t.static)for(const n of t.static.values())G(n);if(t.staticInsensitive)for(const n of t.staticInsensitive.values())G(n);if(t.dynamic?.length){t.dynamic.sort(Qt);for(const n of t.dynamic)G(n)}if(t.optional?.length){t.optional.sort(Qt);for(const n of t.optional)G(n)}if(t.wildcard?.length){t.wildcard.sort(Qt);for(const n of t.wildcard)G(n)}}function Q(t){return{kind:ut,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function te(t,n,e,o,s){return{kind:t,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:n,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:e,prefix:o,suffix:s}}function po(t,n){const e=Q("/"),o=new Uint16Array(6);for(const s of t)Kt(!1,o,s,1,e,0);G(e),n.masksTree=e,n.flatCache=Vt(1e3)}function mo(t,n){t||="/";const e=n.flatCache.get(t);if(e)return e;const o=ye(t,n.masksTree);return n.flatCache.set(t,o),o}function go(t,n,e,o,s){t||="/",o||="/";const r=n?`case\0${t}`:t;let a=s.singleCache.get(r);if(!a){a=Q("/");const i=new Uint16Array(6);Kt(n,i,{from:t},1,a,0),s.singleCache.set(r,a)}return ye(o,a,e)}function yo(t,n,e=!1){const o=e?t:`nofuzz\0${t}`,s=n.matchCache.get(o);if(s!==void 0)return s;t||="/";let r;try{r=ye(t,n.segmentTree,e)}catch(a){if(a instanceof URIError)r=null;else throw a}return r&&(r.branch=So(r.route)),n.matchCache.set(o,r),r}function vo(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function xo(t,n=!1,e){const o=Q(t.fullPath),s=new Uint16Array(6),r={},a={};let i=0;return Kt(n,s,t,1,o,0,l=>{if(e?.(l,i),K(!(l.id in r),`Duplicate routes found with id: ${String(l.id)}`),r[l.id]=l,i!==0&&l.path){const h=vo(l.fullPath);(!a[h]||l.fullPath.endsWith("/"))&&(a[h]=l)}i++}),G(o),{processedTree:{segmentTree:o,singleCache:Vt(1e3),matchCache:Vt(1e3),flatCache:null,masksTree:null},routesById:r,routesByPath:a}}function ye(t,n,e=!1){const o=t.split("/"),s=wo(t,o,n,e);if(!s)return null;const[r]=vn(t,o,s);return{route:s.node.route,rawParams:r,parsedParams:s.parsedParams}}function vn(t,n,e){const o=Po(e.node);let s=null;const r={};let a=e.extract?.part??0,i=e.extract?.node??0,c=e.extract?.path??0,l=e.extract?.segment??0;for(;i<o.length;a++,i++,c++,l++){const h=o[i];if(h.kind===Z)break;if(h.kind===yn){l--,a--,c--;continue}const d=n[a],u=c;if(d&&(c+=d.length),h.kind===nt){s??=e.node.fullPath.split("/");const f=s[l],p=h.prefix?.length??0;if(f.charCodeAt(p)===123){const g=h.suffix?.length??0,x=f.substring(p+2,f.length-g-1),w=d.substring(p,d.length-g);r[x]=decodeURIComponent(w)}else{const g=f.substring(1);r[g]=decodeURIComponent(d)}}else if(h.kind===_t){if(e.skipped&1<<i){a--,c=u-1;continue}s??=e.node.fullPath.split("/");const f=s[l],p=h.prefix?.length??0,m=h.suffix?.length??0,g=f.substring(p+3,f.length-m-1),x=h.suffix||h.prefix?d.substring(p,d.length-m):d;x&&(r[g]=decodeURIComponent(x))}else if(h.kind===ot){const f=h,p=t.substring(u+(f.prefix?.length??0),t.length-(f.suffix?.length??0)),m=decodeURIComponent(p);r["*"]=m,r._splat=m;break}}return e.rawParams&&Object.assign(r,e.rawParams),[r,{part:a,node:i,path:c,segment:l}]}function So(t){const n=[t];for(;t.parentRoute;)t=t.parentRoute,n.push(t);return n.reverse(),n}function Po(t){const n=Array(t.depth+1);do n[t.depth]=t,t=t.parent;while(t);return n}function wo(t,n,e,o){if(t==="/"&&e.index)return{node:e.index,skipped:0};const s=!wt(n),r=s&&t!=="/",a=n.length-(s?1:0),i=[{node:e,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let c=null,l=null,h=null;for(;i.length;){const d=i.pop(),{node:u,index:f,skipped:p,depth:m,statics:g,dynamics:x,optionals:w}=d;let{extract:P,rawParams:S,parsedParams:k}=d;if(u.skipOnParamError){if(!ee(t,n,d))continue;S=d.rawParams,P=d.extract,k=d.parsedParams}o&&u.route&&u.kind!==Z&&pt(l,d)&&(l=d);const L=f===a;if(L&&(u.route&&!r&&pt(h,d)&&(h=d),!u.optional&&!u.wildcard&&!u.index&&!u.pathless))continue;const _=L?void 0:n[f];let v;if(L&&u.index){const R={node:u.index,index:f,skipped:p,depth:m+1,statics:g,dynamics:x,optionals:w,extract:P,rawParams:S,parsedParams:k};let T=!0;if(u.index.skipOnParamError&&(ee(t,n,R)||(T=!1)),T){if(g===a&&!x&&!w&&!p)return R;pt(h,R)&&(h=R)}}if(u.wildcard&&pt(c,d))for(const R of u.wildcard){const{prefix:T,suffix:C}=R;if(T&&(L||!(R.caseSensitive?_:v??=_.toLowerCase()).startsWith(T)))continue;if(C){if(L)continue;const M=n.slice(f).join("/").slice(-C.length);if((R.caseSensitive?M:M.toLowerCase())!==C)continue}const E={node:R,index:a,skipped:p,depth:m,statics:g,dynamics:x,optionals:w,extract:P,rawParams:S,parsedParams:k};if(!(R.skipOnParamError&&!ee(t,n,E))){c=E;break}}if(u.optional){const R=p|1<<m,T=m+1;for(let C=u.optional.length-1;C>=0;C--){const E=u.optional[C];i.push({node:E,index:f,skipped:R,depth:T,statics:g,dynamics:x,optionals:w,extract:P,rawParams:S,parsedParams:k})}if(!L)for(let C=u.optional.length-1;C>=0;C--){const E=u.optional[C],{prefix:M,suffix:I}=E;if(M||I){const F=E.caseSensitive?_:v??=_.toLowerCase();if(M&&!F.startsWith(M)||I&&!F.endsWith(I))continue}i.push({node:E,index:f+1,skipped:p,depth:T,statics:g,dynamics:x,optionals:w+1,extract:P,rawParams:S,parsedParams:k})}}if(!L&&u.dynamic&&_)for(let R=u.dynamic.length-1;R>=0;R--){const T=u.dynamic[R],{prefix:C,suffix:E}=T;if(C||E){const M=T.caseSensitive?_:v??=_.toLowerCase();if(C&&!M.startsWith(C)||E&&!M.endsWith(E))continue}i.push({node:T,index:f+1,skipped:p,depth:m+1,statics:g,dynamics:x+1,optionals:w,extract:P,rawParams:S,parsedParams:k})}if(!L&&u.staticInsensitive){const R=u.staticInsensitive.get(v??=_.toLowerCase());R&&i.push({node:R,index:f+1,skipped:p,depth:m+1,statics:g+1,dynamics:x,optionals:w,extract:P,rawParams:S,parsedParams:k})}if(!L&&u.static){const R=u.static.get(_);R&&i.push({node:R,index:f+1,skipped:p,depth:m+1,statics:g+1,dynamics:x,optionals:w,extract:P,rawParams:S,parsedParams:k})}if(u.pathless){const R=m+1;for(let T=u.pathless.length-1;T>=0;T--){const C=u.pathless[T];i.push({node:C,index:f,skipped:p,depth:R,statics:g,dynamics:x,optionals:w,extract:P,rawParams:S,parsedParams:k})}}}if(h&&c)return pt(c,h)?h:c;if(h)return h;if(c)return c;if(o&&l){let d=l.index;for(let f=0;f<l.index;f++)d+=n[f].length;const u=d===t.length?"/":t.slice(d);return l.rawParams??={},l.rawParams["**"]=decodeURIComponent(u),l}return null}function ee(t,n,e){try{const[o,s]=vn(t,n,e);e.rawParams=o,e.extract=s;const r=e.node.parse(o);return e.parsedParams=Object.assign({},e.parsedParams,r),!0}catch{return null}}function pt(t,n){return t?n.statics>t.statics||n.statics===t.statics&&(n.dynamics>t.dynamics||n.dynamics===t.dynamics&&(n.optionals>t.optionals||n.optionals===t.optionals&&((n.node.kind===Z)>(t.node.kind===Z)||n.node.kind===Z==(t.node.kind===Z)&&n.depth>t.depth))):!0}function jt(t){return ve(t.filter(n=>n!==void 0).join("/"))}function ve(t){return t.replace(/\/{2,}/g,"/")}function xn(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function H(t){const n=t.length;return n>1&&t[n-1]==="/"?t.replace(/\/{1,}$/,""):t}function Sn(t){return H(xn(t))}function zt(t,n){return t?.endsWith("/")&&t!=="/"&&t!==`${n}/`?t.slice(0,-1):t}function _o(t,n,e){return zt(t,e)===zt(n,e)}function Ro({base:t,to:n,trailingSlash:e="never",cache:o}){const s=n.startsWith("/"),r=!s&&n===".";let a;if(o){a=s?n:r?t:t+"\0"+n;const d=o.get(a);if(d)return d}let i;if(r)i=t.split("/");else if(s)i=n.split("/");else{for(i=t.split("/");i.length>1&&wt(i)==="";)i.pop();const d=n.split("/");for(let u=0,f=d.length;u<f;u++){const p=d[u];p===""?u?u===f-1&&i.push(p):i=[p]:p===".."?i.pop():p==="."||i.push(p)}}i.length>1&&(wt(i)===""?e==="never"&&i.pop():e==="always"&&i.push(""));let c,l="";for(let d=0;d<i.length;d++){d>0&&(l+="/");const u=i[d];if(!u)continue;c=ge(u,0,c);const f=c[0];if(f===ut){l+=u;continue}const p=c[5],m=u.substring(0,c[1]),g=u.substring(c[4],p),x=u.substring(c[2],c[3]);f===nt?l+=m||g?`${m}{$${x}}${g}`:`$${x}`:f===ot?l+=m||g?`${m}{$}${g}`:"$":l+=`${m}{-$${x}}${g}`}l=ve(l);const h=l||"/";return a&&o&&o.set(a,h),h}function bo(t){const n=new Map(t.map(s=>[encodeURIComponent(s),s])),e=Array.from(n.keys()).map(s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),o=new RegExp(e,"g");return s=>s.replace(o,r=>n.get(r)??r)}function ne(t,n,e){const o=n[t];return typeof o!="string"?o:t==="_splat"?/^[a-zA-Z0-9\-._~!/]*$/.test(o)?o:o.split("/").map(s=>qe(s,e)).join("/"):qe(o,e)}function oe({path:t,params:n,decoder:e,server:o}){let s=!1;const r={};if(!t||t==="/")return{interpolatedPath:"/",usedParams:r,isMissingParams:s};if(!t.includes("$"))return{interpolatedPath:t,usedParams:r,isMissingParams:s};const a=t.length;let i=0,c,l="";for(;i<a;){const d=i;c=ge(t,d,c);const u=c[5];if(i=u+1,d===u)continue;const f=c[0];if(f===ut){l+="/"+t.substring(d,u);continue}if(f===ot){const p=n._splat;r._splat=p,r["*"]=p;const m=t.substring(d,c[1]),g=t.substring(c[4],u);if(!p){s=!0,(m||g)&&(l+="/"+m+g);continue}const x=ne("_splat",n,e);l+="/"+m+x+g;continue}if(f===nt){const p=t.substring(c[2],c[3]);!s&&!(p in n)&&(s=!0),r[p]=n[p];const m=t.substring(d,c[1]),g=t.substring(c[4],u),x=ne(p,n,e)??"undefined";l+="/"+m+x+g;continue}if(f===_t){const p=t.substring(c[2],c[3]),m=n[p];if(m==null)continue;r[p]=m;const g=t.substring(d,c[1]),x=t.substring(c[4],u),w=ne(p,n,e)??"";l+="/"+g+w+x;continue}}return t.endsWith("/")&&(l+="/"),{usedParams:r,interpolatedPath:l||"/",isMissingParams:s}}function qe(t,n){const e=encodeURIComponent(t);return n?.(e)??e}function N(t){return!!t?.isNotFound}function Lo(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const fe="tsr-scroll-restoration-v1_3",Co=(t,n)=>{let e;return(...o)=>{e||(e=setTimeout(()=>{t(...o),e=null},n))}};function ko(){const t=Lo();if(!t)return null;const n=t.getItem(fe);let e=n?JSON.parse(n):{};return{state:e,set:o=>{e=q(o,e)||e;try{t.setItem(fe,JSON.stringify(e))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const Mt=ko(),Mo=t=>t.state.__TSR_key||t.href;function To(t){const n=[];let e;for(;e=t.parentNode;)n.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(e.children,t)+1})`),t=e;return`${n.reverse().join(" > ")}`.toLowerCase()}let Wt=!1;function Eo({storageKey:t,key:n,behavior:e,shouldScrollRestoration:o,scrollToTopSelectors:s,location:r}){let a;try{a=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(l){console.error(l);return}const i=n||window.history.state?.__TSR_key,c=a[i];Wt=!0;t:{if(o&&c&&Object.keys(c).length>0){for(const d in c){const u=c[d];if(d==="window")window.scrollTo({top:u.scrollY,left:u.scrollX,behavior:e});else if(d){const f=document.querySelector(d);f&&(f.scrollLeft=u.scrollX,f.scrollTop=u.scrollY)}}break t}const l=(r??window.location).hash.split("#",2)[1];if(l){const d=window.history.state?.__hashScrollIntoViewOptions??!0;if(d){const u=document.getElementById(l);u&&u.scrollIntoView(d)}break t}const h={top:0,left:0,behavior:e};if(window.scrollTo(h),s)for(const d of s){if(d==="window")continue;const u=typeof d=="function"?d():document.querySelector(d);u&&u.scrollTo(h)}}Wt=!1}function Io(t,n){if(!Mt||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isScrollRestorationSetup||!Mt))return;t.isScrollRestorationSetup=!0,Wt=!1;const o=t.options.getScrollRestorationKey||Mo;window.history.scrollRestoration="manual";const s=r=>{if(Wt||!t.isScrollRestoring)return;let a="";if(r.target===document||r.target===window)a="window";else{const c=r.target.getAttribute("data-scroll-restoration-id");c?a=`[data-scroll-restoration-id="${c}"]`:a=To(r.target)}const i=o(t.state.location);Mt.set(c=>{const l=c[i]||={},h=l[a]||={};if(a==="window")h.scrollX=window.scrollX||0,h.scrollY=window.scrollY||0;else if(a){const d=document.querySelector(a);d&&(h.scrollX=d.scrollLeft||0,h.scrollY=d.scrollTop||0)}return c})};typeof document<"u"&&document.addEventListener("scroll",Co(s,100),!0),t.subscribe("onRendered",r=>{const a=o(r.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(Eo({storageKey:fe,key:a,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&Mt.set(i=>(i[a]||={},i)))})}function Oo(t){if(typeof document<"u"&&document.querySelector){const n=t.state.location.state.__hashScrollIntoViewOptions??!0;if(n&&t.state.location.hash!==""){const e=document.getElementById(t.state.location.hash);e&&e.scrollIntoView(n)}}}function Fo(t,n=String){const e=new URLSearchParams;for(const o in t){const s=t[o];s!==void 0&&e.set(o,n(s))}return e.toString()}function se(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function jo(t){const n=new URLSearchParams(t),e={};for(const[o,s]of n.entries()){const r=e[o];r==null?e[o]=se(s):Array.isArray(r)?r.push(se(s)):e[o]=[r,se(s)]}return e}const Ao=Bo(JSON.parse),No=Do(JSON.stringify,JSON.parse);function Bo(t){return n=>{n[0]==="?"&&(n=n.substring(1));const e=jo(n);for(const o in e){const s=e[o];if(typeof s=="string")try{e[o]=t(s)}catch{}}return e}}function Do(t,n){const e=typeof n=="function";function o(s){if(typeof s=="object"&&s!==null)try{return t(s)}catch{}else if(e&&typeof s=="string")try{return n(s),t(s)}catch{}return s}return s=>{const r=Fo(s,o);return r?`?${r}`:""}}const B="__root__";function Uo(t){if(t.statusCode=t.statusCode||t.code||307,!t._builtLocation&&typeof t.href=="string"&&$t(t.href))throw new Error(`Redirect blocked: unsafe protocol in href "${t.href}". Only ${gn.join(", ")} protocols are allowed.`);if(!t._builtLocation&&!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const n=new Headers(t.headers);t.href&&n.get("Location")===null&&n.set("Location",t.href);const e=new Response(null,{status:t.statusCode,headers:n});if(e.options=t,t.throw)throw e;return e}function D(t){return t instanceof Response&&!!t.options}const At=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},Gt=(t,n)=>!!(t.preload&&!t.router.state.matches.some(e=>e.id===n)),ct=(t,n,e=!0)=>{const o={...t.router.options.context??{}},s=e?n:n-1;for(let r=0;r<=s;r++){const a=t.matches[r];if(!a)continue;const i=t.router.getMatch(a.id);i&&Object.assign(o,i.__routeContext,i.__beforeLoadContext)}return o},Pn=(t,n)=>{const e=t.router.routesById[n.routeId??""]??t.router.routeTree;!e.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(e.options.notFoundComponent=t.router.options.defaultNotFoundComponent),K(e.options.notFoundComponent);const o=t.matches.find(s=>s.routeId===e.id);K(o,"Could not find match for route: "+e.id),t.updateMatch(o.id,s=>({...s,status:"notFound",error:n,isFetching:!1})),n.routerCode==="BEFORE_LOAD"&&e.parentRoute&&(n.routeId=e.parentRoute.id,Pn(t,n))},J=(t,n,e)=>{if(!(!D(e)&&!N(e))){if(D(e)&&e.redirectHandled&&!e.options.reloadDocument)throw e;if(n){n._nonReactive.beforeLoadPromise?.resolve(),n._nonReactive.loaderPromise?.resolve(),n._nonReactive.beforeLoadPromise=void 0,n._nonReactive.loaderPromise=void 0;const o=D(e)?"redirected":"notFound";n._nonReactive.error=e,t.updateMatch(n.id,s=>({...s,status:o,context:ct(t,n.index),isFetching:!1,error:e})),N(e)&&!e.routeId&&(e.routeId=n.routeId),n._nonReactive.loadPromise?.resolve()}throw D(e)?(t.rendered=!0,e.options._fromLocation=t.location,e.redirectHandled=!0,e=t.router.resolveRedirect(e),e):(Pn(t,e),e)}},wn=(t,n)=>!!t.router.getMatch(n)._nonReactive.dehydrated,mt=(t,n,e,o)=>{const{id:s,routeId:r}=t.matches[n],a=t.router.looseRoutesById[r];if(e instanceof Promise)throw e;e.routerCode=o,t.firstBadMatchIndex??=n,J(t,t.router.getMatch(s),e);try{a.options.onError?.(e)}catch(i){e=i,J(t,t.router.getMatch(s),e)}t.updateMatch(s,i=>(i._nonReactive.beforeLoadPromise?.resolve(),i._nonReactive.beforeLoadPromise=void 0,i._nonReactive.loadPromise?.resolve(),{...i,error:e,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},_n=(t,n,e,o)=>{if(o._nonReactive.pendingTimeout!==void 0)return;const s=e.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!Gt(t,n)&&(e.options.loader||e.options.beforeLoad||Ln(e))&&typeof s=="number"&&s!==1/0&&(e.options.pendingComponent??t.router.options?.defaultPendingComponent))){const a=setTimeout(()=>{At(t)},s);o._nonReactive.pendingTimeout=a}},$o=(t,n,e)=>{const o=t.router.getMatch(n);if(!o._nonReactive.beforeLoadPromise&&!o._nonReactive.loaderPromise)return;_n(t,n,e,o);const s=()=>{const r=t.router.getMatch(n);r.preload&&(r.status==="redirected"||r.status==="notFound")&&J(t,r,r.error)};return o._nonReactive.beforeLoadPromise?o._nonReactive.beforeLoadPromise.then(s):s()},Vo=(t,n,e,o)=>{const s=t.router.getMatch(n),r=s._nonReactive.loadPromise;s._nonReactive.loadPromise=lt(()=>{r?.resolve()});const{paramsError:a,searchError:i}=s;a&&mt(t,e,a,"PARSE_PARAMS"),i&&mt(t,e,i,"VALIDATE_SEARCH"),_n(t,n,o,s);const c=new AbortController;let l=!1;const h=()=>{l||(l=!0,t.updateMatch(n,S=>({...S,isFetching:"beforeLoad",fetchCount:S.fetchCount+1,abortController:c})))},d=()=>{s._nonReactive.beforeLoadPromise?.resolve(),s._nonReactive.beforeLoadPromise=void 0,t.updateMatch(n,S=>({...S,isFetching:!1}))};if(!o.options.beforeLoad){St(()=>{h(),d()});return}s._nonReactive.beforeLoadPromise=lt();const u={...ct(t,e,!1),...s.__routeContext},{search:f,params:p,cause:m}=s,g=Gt(t,n),x={search:f,abortController:c,params:p,preload:g,context:u,location:t.location,navigate:S=>t.router.navigate({...S,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:g?"preload":m,matches:t.matches,...t.router.options.additionalContext},w=S=>{if(S===void 0){St(()=>{h(),d()});return}(D(S)||N(S))&&(h(),mt(t,e,S,"BEFORE_LOAD")),St(()=>{h(),t.updateMatch(n,k=>({...k,__beforeLoadContext:S})),d()})};let P;try{if(P=o.options.beforeLoad(x),at(P))return h(),P.catch(S=>{mt(t,e,S,"BEFORE_LOAD")}).then(w)}catch(S){h(),mt(t,e,S,"BEFORE_LOAD")}w(P)},zo=(t,n)=>{const{id:e,routeId:o}=t.matches[n],s=t.router.looseRoutesById[o],r=()=>i(),a=()=>Vo(t,e,n,s),i=()=>{if(wn(t,e))return;const c=$o(t,e,s);return at(c)?c.then(a):a()};return r()},Wo=(t,n,e)=>{const o=t.router.getMatch(n);if(!o||!e.options.head&&!e.options.scripts&&!e.options.headers)return;const s={ssr:t.router.options.ssr,matches:t.matches,match:o,params:o.params,loaderData:o.loaderData};return Promise.all([e.options.head?.(s),e.options.scripts?.(s),e.options.headers?.(s)]).then(([r,a,i])=>{const c=r?.meta,l=r?.links,h=r?.scripts,d=r?.styles;return{meta:c,links:l,headScripts:h,headers:i,scripts:a,styles:d}})},Rn=(t,n,e,o)=>{const s=t.matchPromises[e-1],{params:r,loaderDeps:a,abortController:i,cause:c}=t.router.getMatch(n),l=ct(t,e),h=Gt(t,n);return{params:r,deps:a,preload:!!h,parentMatchPromise:s,abortController:i,context:l,location:t.location,navigate:d=>t.router.navigate({...d,_fromLocation:t.location}),cause:h?"preload":c,route:o,...t.router.options.additionalContext}},Je=async(t,n,e,o)=>{try{const s=t.router.getMatch(n);try{(!(io??t.router.isServer)||s.ssr===!0)&&bn(o);const r=o.options.loader?.(Rn(t,n,e,o)),a=o.options.loader&&at(r);if((a||o._lazyPromise||o._componentsPromise||o.options.head||o.options.scripts||o.options.headers||s._nonReactive.minPendingPromise)&&t.updateMatch(n,l=>({...l,isFetching:"loader"})),o.options.loader){const l=a?await r:r;J(t,t.router.getMatch(n),l),l!==void 0&&t.updateMatch(n,h=>({...h,loaderData:l}))}o._lazyPromise&&await o._lazyPromise;const c=s._nonReactive.minPendingPromise;c&&await c,o._componentsPromise&&await o._componentsPromise,t.updateMatch(n,l=>({...l,error:void 0,context:ct(t,e),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(r){let a=r;if(a?.name==="AbortError"){t.updateMatch(n,c=>({...c,status:c.status==="pending"?"success":c.status,isFetching:!1,context:ct(t,e)}));return}const i=s._nonReactive.minPendingPromise;i&&await i,N(r)&&await o.options.notFoundComponent?.preload?.(),J(t,t.router.getMatch(n),r);try{o.options.onError?.(r)}catch(c){a=c,J(t,t.router.getMatch(n),c)}t.updateMatch(n,c=>({...c,error:a,context:ct(t,e),status:"error",isFetching:!1}))}}catch(s){const r=t.router.getMatch(n);r&&(r._nonReactive.loaderPromise=void 0),J(t,r,s)}},Ho=async(t,n)=>{const{id:e,routeId:o}=t.matches[n];let s=!1,r=!1;const a=t.router.looseRoutesById[o];if(!wn(t,e)){const l=t.router.getMatch(e);if(l._nonReactive.loaderPromise){if(l.status==="success"&&!t.sync&&!l.preload)return l;await l._nonReactive.loaderPromise;const h=t.router.getMatch(e),d=h._nonReactive.error||h.error;d&&J(t,h,d)}else{const h=Date.now()-l.updatedAt,d=Gt(t,e),u=d?a.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:a.options.staleTime??t.router.options.defaultStaleTime??0,f=a.options.shouldReload,p=typeof f=="function"?f(Rn(t,e,n,a)):f,m=!!d&&!t.router.state.matches.some(P=>P.id===e),g=t.router.getMatch(e);g._nonReactive.loaderPromise=lt(),m!==g.preload&&t.updateMatch(e,P=>({...P,preload:m}));const{status:x,invalid:w}=g;s=x==="success"&&(w||(p??h>u)),d&&a.options.preload===!1||(s&&!t.sync?(r=!0,(async()=>{try{await Je(t,e,n,a);const P=t.router.getMatch(e);P._nonReactive.loaderPromise?.resolve(),P._nonReactive.loadPromise?.resolve(),P._nonReactive.loaderPromise=void 0}catch(P){D(P)&&await t.router.navigate(P.options)}})()):(x!=="success"||s&&t.sync)&&await Je(t,e,n,a))}}const i=t.router.getMatch(e);r||(i._nonReactive.loaderPromise?.resolve(),i._nonReactive.loadPromise?.resolve()),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0,r||(i._nonReactive.loaderPromise=void 0),i._nonReactive.dehydrated=void 0;const c=r?i.isFetching:!1;return c!==i.isFetching||i.invalid!==!1?(t.updateMatch(e,l=>({...l,isFetching:c,invalid:!1})),t.router.getMatch(e)):i};async function Ye(t){const n=Object.assign(t,{matchPromises:[]});n.router.state.matches.some(e=>e._forcePending)&&At(n);try{for(let i=0;i<n.matches.length;i++){const c=zo(n,i);at(c)&&await c}const e=n.firstBadMatchIndex??n.matches.length;for(let i=0;i<e;i++)n.matchPromises.push(Ho(n,i));const s=(await Promise.allSettled(n.matchPromises)).filter(i=>i.status==="rejected").map(i=>i.reason);let r;for(const i of s){if(D(i))throw i;!r&&N(i)&&(r=i)}for(const i of n.matches){const{id:c,routeId:l}=i,h=n.router.looseRoutesById[l];try{const d=Wo(n,c,h);if(d){const u=await d;n.updateMatch(c,f=>({...f,...u}))}}catch(d){console.error(`Error executing head for route ${l}:`,d)}}if(r)throw r;const a=At(n);at(a)&&await a}catch(e){if(N(e)&&!n.preload){const o=At(n);throw at(o)&&await o,e}if(D(e))throw e}return n.matches}async function bn(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(n=>{const{id:e,...o}=n.options;Object.assign(t.options,o),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const n=()=>{const e=[];for(const o of Cn){const s=t.options[o]?.preload;s&&e.push(s())}if(e.length)return Promise.all(e).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(n):n()}return t._componentsPromise}function Ln(t){for(const n of Cn)if(t.options[n]?.preload)return!0;return!1}const Cn=["component","errorComponent","pendingComponent","notFoundComponent"];function Ko(t){return{input:({url:n})=>{for(const e of t)n=pe(e,n);return n},output:({url:n})=>{for(let e=t.length-1;e>=0;e--)n=kn(t[e],n);return n}}}function Go(t){const n=Sn(t.basepath),e=`/${n}`,o=`${e}/`,s=t.caseSensitive?e:e.toLowerCase(),r=t.caseSensitive?o:o.toLowerCase();return{input:({url:a})=>{const i=t.caseSensitive?a.pathname:a.pathname.toLowerCase();return i===s?a.pathname="/":i.startsWith(r)&&(a.pathname=a.pathname.slice(e.length)),a},output:({url:a})=>(a.pathname=jt(["/",n,a.pathname]),a)}}function pe(t,n){const e=t?.input?.({url:n});if(e){if(typeof e=="string")return new URL(e);if(e instanceof URL)return e}return n}function kn(t,n){const e=t?.output?.({url:n});if(e){if(typeof e=="string")return new URL(e);if(e instanceof URL)return e}return n}function et(t){const n=t.resolvedLocation,e=t.location,o=n?.pathname!==e.pathname,s=n?.href!==e.href,r=n?.hash!==e.hash;return{fromLocation:n,toLocation:e,pathChanged:o,hrefChanged:s,hashChanged:r}}class qo{constructor(n){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=e=>e(),this.update=e=>{e.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const o=this.options,s=this.basepath??o?.basepath??"/",r=this.basepath===void 0,a=o?.rewrite;if(this.options={...o,...e},this.isServer=this.options.isServer??typeof document>"u",this.options.pathParamsAllowedCharacters&&(this.pathParamsDecoder=bo(this.options.pathParamsAllowedCharacters)),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.history=so()),this.origin=this.options.origin,this.origin||(window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree){this.routeTree=this.options.routeTree;let u;this.resolvePathCache=Vt(1e3),u=this.buildRouteTree(),this.setRoutes(u)}!this.__store&&this.latestLocation&&(this.__store=new no(Yo(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(u=>!["redirected"].includes(u.status))}}}),Io(this));let i=!1;const c=this.options.basepath??"/",l=this.options.rewrite;if(r||s!==c||a!==l){this.basepath=c;const u=[],f=Sn(c);f&&f!=="/"&&u.push(Go({basepath:c})),l&&u.push(l),this.rewrite=u.length===0?void 0:u.length===1?u[0]:Ko(u),this.history&&this.updateLatestLocation(),i=!0}i&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const e=xo(this.routeTree,this.options.caseSensitive,(o,s)=>{o.init({originalIndex:s})});return this.options.routeMasks&&po(this.options.routeMasks,e.processedTree),e},this.subscribe=(e,o)=>{const s={eventType:e,fn:o};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=e=>{this.subscribers.forEach(o=>{o.eventType===e.type&&o.fn(e)})},this.parseLocation=(e,o)=>{const s=({pathname:c,search:l,hash:h,href:d,state:u})=>{if(!this.rewrite&&!/[ \x00-\x1f\x7f\u0080-\uffff]/.test(c)){const w=this.options.parseSearch(l),P=this.options.stringifySearch(w);return{href:c+P+h,publicHref:d,pathname:ft(c),external:!1,searchStr:P,search:A(o?.search,w),hash:ft(h.slice(1)),state:A(o?.state,u)}}const f=new URL(d,this.origin),p=pe(this.rewrite,f),m=this.options.parseSearch(p.search),g=this.options.stringifySearch(m);return p.search=g,{href:p.href.replace(p.origin,""),publicHref:d,pathname:ft(p.pathname),external:!!this.rewrite&&p.origin!==this.origin,searchStr:g,search:A(o?.search,m),hash:ft(p.hash.slice(1)),state:A(o?.state,u)}},r=s(e),{__tempLocation:a,__tempKey:i}=r.state;if(a&&(!i||i===this.tempLocationKey)){const c=s(a);return c.state.key=r.state.key,c.state.__TSR_key=r.state.__TSR_key,delete c.state.__tempLocation,{...c,maskedLocation:r}}return r},this.resolvePathWithBase=(e,o)=>Ro({base:e,to:ve(o),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(e,o,s)=>typeof e=="string"?this.matchRoutesInternal({pathname:e,search:o},s):this.matchRoutesInternal(e,o),this.getMatchedRoutes=e=>Xo({pathname:e,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=e=>{const o=this.getMatch(e);o&&(o.abortController.abort(),clearTimeout(o._nonReactive.pendingTimeout),o._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const e=this.state.matches.filter(r=>r.status==="pending"),o=this.state.matches.filter(r=>r.isFetching==="loader");new Set([...this.state.pendingMatches??[],...e,...o]).forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=e=>{const o=(r={})=>{const a=r._fromLocation||this.pendingBuiltLocation||this.latestLocation,i=this.matchRoutesLightweight(a);r.from;const c=r.unsafeRelative==="path"?a.pathname:r.from??i.fullPath,l=this.resolvePathWithBase(c,"."),h=i.search,d={...i.params},u=r.to?this.resolvePathWithBase(l,`${r.to}`):this.resolvePathWithBase(l,"."),f=r.params===!1||r.params===null?{}:(r.params??!0)===!0?d:Object.assign(d,q(r.params,d)),p=oe({path:u,params:f,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath,m=this.getMatchedRoutes(p);let g=m.matchedRoutes;(m.foundRoute?m.foundRoute.path!=="/"&&m.routeParams["**"]:H(p))&&this.options.notFoundRoute&&(g=[...g,this.options.notFoundRoute]);let w=!1;if(Object.keys(f).length>0)for(const M of g){const I=M.options.params?.stringify??M.options.stringifyParams;I&&(w=!0,Object.assign(f,I(f)))}const P=e.leaveParams?u:ft(w?oe({path:u,params:f,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath:p);let S=h;if(e._includeValidateSearch&&this.options.search?.strict){const M={};g.forEach(I=>{if(I.options.validateSearch)try{Object.assign(M,Nt(I.options.validateSearch,{...M,...S}))}catch{}}),S=M}S=Zo({search:S,dest:r,destRoutes:g,_includeValidateSearch:e._includeValidateSearch}),S=A(h,S);const k=this.options.stringifySearch(S),L=r.hash===!0?a.hash:r.hash?q(r.hash,a.hash):void 0,_=L?`#${L}`:"";let v=r.state===!0?a.state:r.state?q(r.state,a.state):{};v=A(a.state,v);const R=`${P}${k}${_}`;let T,C,E=!1;if(this.rewrite){const M=new URL(R,this.origin),I=kn(this.rewrite,M);T=M.href.replace(M.origin,""),I.origin!==this.origin?(C=I.href,E=!0):C=I.pathname+I.search+I.hash}else T=uo(R),C=T;return{publicHref:C,href:T,pathname:P,search:S,searchStr:k,state:v,hash:L??"",external:E,unmaskOnReload:r.unmaskOnReload}},s=(r={},a)=>{const i=o(r);let c=a?o(a):void 0;if(!c){const l={};if(this.options.routeMasks){const h=mo(i.pathname,this.processedTree);if(h){Object.assign(l,h.rawParams);const{from:d,params:u,...f}=h.route,p=u===!1||u===null?{}:(u??!0)===!0?l:Object.assign(l,q(u,l));a={from:e.from,...f,params:p},c=o(a)}}}return c&&(i.maskedLocation=c),i};return e.mask?s(e,{from:e.from,...e.mask}):s(e)},this.commitLocation=async({viewTransition:e,ignoreBlocker:o,...s})=>{const r=()=>{const c=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];c.forEach(h=>{s.state[h]=this.latestLocation.state[h]});const l=tt(s.state,this.latestLocation.state);return c.forEach(h=>{delete s.state[h]}),l},a=H(this.latestLocation.href)===H(s.href),i=this.commitLocationPromise;if(this.commitLocationPromise=lt(()=>{i?.resolve()}),a&&r())this.load();else{let{maskedLocation:c,hashScrollIntoView:l,...h}=s;c&&(h={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...h,search:h.searchStr,state:{...h.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(h.unmaskOnReload??this.options.unmaskOnReload??!1)&&(h.state.__tempKey=this.tempLocationKey)),h.state.__hashScrollIntoViewOptions=l??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=e,this.history[s.replace?"replace":"push"](h.publicHref,h.state,{ignoreBlocker:o})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:e,resetScroll:o,hashScrollIntoView:s,viewTransition:r,ignoreBlocker:a,href:i,...c}={})=>{if(i){const d=this.history.location.state.__TSR_index,u=Dt(i,{__TSR_index:e?d:d+1}),f=new URL(u.pathname,this.origin),p=pe(this.rewrite,f);c.to=p.pathname,c.search=this.options.parseSearch(u.search),c.hash=u.hash.slice(1)}const l=this.buildLocation({...c,_includeValidateSearch:!0});this.pendingBuiltLocation=l;const h=this.commitLocation({...l,viewTransition:r,replace:e,resetScroll:o,hashScrollIntoView:s,ignoreBlocker:a});return Promise.resolve().then(()=>{this.pendingBuiltLocation===l&&(this.pendingBuiltLocation=void 0)}),h},this.navigate=async({to:e,reloadDocument:o,href:s,publicHref:r,...a})=>{let i=!1;if(s)try{new URL(`${s}`),i=!0}catch{}if(i&&!o&&(o=!0),o){if(e!==void 0||!s){const l=this.buildLocation({to:e,...a});s=s??l.publicHref,r=r??l.publicHref}const c=!i&&r?r:s;if($t(c))return Promise.resolve();if(!a.ignoreBlocker){const h=this.history.getBlockers?.()??[];for(const d of h)if(d?.blockerFn&&await d.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return a.replace?window.location.replace(c):window.location.href=c,Promise.resolve()}return this.buildAndCommitLocation({...a,href:s,to:e,_isNavigate:!0})},this.beforeLoad=()=>{this.cancelMatches(),this.updateLatestLocation();const e=this.matchRoutes(this.latestLocation);this.__store.setState(o=>({...o,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:e,cachedMatches:o.cachedMatches.filter(s=>!e.some(r=>r.id===s.id))}))},this.load=async e=>{let o,s,r;for(r=new Promise(i=>{this.startTransition(async()=>{try{this.beforeLoad();const c=this.latestLocation,l=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...et({resolvedLocation:l,location:c})}),this.emit({type:"onBeforeLoad",...et({resolvedLocation:l,location:c})}),await Ye({router:this,sync:e?.sync,matches:this.state.pendingMatches,location:c,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let h=[],d=[],u=[];St(()=>{this.__store.setState(f=>{const p=f.matches,m=f.pendingMatches||f.matches;return h=p.filter(g=>!m.some(x=>x.id===g.id)),d=m.filter(g=>!p.some(x=>x.id===g.id)),u=m.filter(g=>p.some(x=>x.id===g.id)),{...f,isLoading:!1,loadedAt:Date.now(),matches:m,pendingMatches:void 0,cachedMatches:[...f.cachedMatches,...h.filter(g=>g.status!=="error"&&g.status!=="notFound")]}}),this.clearExpiredCache()}),[[h,"onLeave"],[d,"onEnter"],[u,"onStay"]].forEach(([f,p])=>{f.forEach(m=>{this.looseRoutesById[m.routeId].options[p]?.(m)})})})})}})}catch(c){D(c)?(o=c,this.navigate({...o.options,replace:!0,ignoreBlocker:!0})):N(c)&&(s=c),this.__store.setState(l=>({...l,statusCode:o?o.status:s?404:l.matches.some(h=>h.status==="error")?500:200,redirect:o}))}this.latestLoadPromise===r&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),i()})}),this.latestLoadPromise=r,await r;this.latestLoadPromise&&r!==this.latestLoadPromise;)await this.latestLoadPromise;let a;this.hasNotFoundMatch()?a=404:this.__store.state.matches.some(i=>i.status==="error")&&(a=500),a!==void 0&&this.__store.setState(i=>({...i,statusCode:a}))},this.startViewTransition=e=>{const o=this.shouldViewTransition??this.options.defaultViewTransition;if(this.shouldViewTransition=void 0,o&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;if(typeof o=="object"&&this.isViewTransitionTypesSupported){const r=this.latestLocation,a=this.state.resolvedLocation,i=typeof o.types=="function"?o.types(et({resolvedLocation:a,location:r})):o.types;if(i===!1){e();return}s={update:e,types:i}}else s=e;document.startViewTransition(s)}else e()},this.updateMatch=(e,o)=>{this.startTransition(()=>{const s=this.state.pendingMatches?.some(r=>r.id===e)?"pendingMatches":this.state.matches.some(r=>r.id===e)?"matches":this.state.cachedMatches.some(r=>r.id===e)?"cachedMatches":"";s&&this.__store.setState(r=>({...r,[s]:r[s]?.map(a=>a.id===e?o(a):a)}))})},this.getMatch=e=>{const o=s=>s.id===e;return this.state.cachedMatches.find(o)??this.state.pendingMatches?.find(o)??this.state.matches.find(o)},this.invalidate=e=>{const o=s=>e?.filter?.(s)??!0?{...s,invalid:!0,...e?.forcePending||s.status==="error"||s.status==="notFound"?{status:"pending",error:void 0}:void 0}:s;return this.__store.setState(s=>({...s,matches:s.matches.map(o),cachedMatches:s.cachedMatches.map(o),pendingMatches:s.pendingMatches?.map(o)})),this.shouldViewTransition=!1,this.load({sync:e?.sync})},this.getParsedLocationHref=e=>e.publicHref||"/",this.resolveRedirect=e=>{const o=e.headers.get("Location");if(!e.options.href||e.options._builtLocation){const s=e.options._builtLocation??this.buildLocation(e.options),r=this.getParsedLocationHref(s);e.options.href=r,e.headers.set("Location",r)}else if(o)try{const s=new URL(o);if(this.origin&&s.origin===this.origin){const r=s.pathname+s.search+s.hash;e.options.href=r,e.headers.set("Location",r)}}catch{}return e.headers.get("Location")||e.headers.set("Location",e.options.href),e},this.clearCache=e=>{const o=e?.filter;o!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(r=>!o(r))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const e=o=>{const s=this.looseRoutesById[o.routeId];if(!s.options.loader)return!0;const r=(o.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??300*1e3;return o.status==="error"?!0:Date.now()-o.updatedAt>=r};this.clearCache({filter:e})},this.loadRouteChunk=bn,this.preloadRoute=async e=>{const o=this.buildLocation(e);let s=this.matchRoutes(o,{throwOnError:!0,preload:!0,dest:e});const r=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(i=>i.id)),a=new Set([...r,...this.state.cachedMatches.map(i=>i.id)]);St(()=>{s.forEach(i=>{a.has(i.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,i]}))})});try{return s=await Ye({router:this,matches:s,location:o,preload:!0,updateMatch:(i,c)=>{r.has(i)?s=s.map(l=>l.id===i?c(l):l):this.updateMatch(i,c)}}),s}catch(i){if(D(i))return i.options.reloadDocument?void 0:await this.preloadRoute({...i.options,_fromLocation:o});N(i)||console.error(i);return}},this.matchRoute=(e,o)=>{const s={...e,to:e.to?this.resolvePathWithBase(e.from||"",e.to):void 0,params:e.params||{},leaveParams:!0},r=this.buildLocation(s);if(o?.pending&&this.state.status!=="pending")return!1;const i=(o?.pending===void 0?!this.state.isLoading:o.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,c=go(r.pathname,o?.caseSensitive??!1,o?.fuzzy??!1,i.pathname,this.processedTree);return!c||e.params&&!tt(c.rawParams,e.params,{partial:!0})?!1:o?.includeSearch??!0?tt(i.search,r.search,{partial:!0})?c.rawParams:!1:c.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(e=>e.status==="notFound"||e.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...n,caseSensitive:n.caseSensitive??!1,notFoundMode:n.notFoundMode??"fuzzy",stringifySearch:n.stringifySearch??No,parseSearch:n.parseSearch??Ao}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}setRoutes({routesById:n,routesByPath:e,processedTree:o}){this.routesById=n,this.routesByPath=e,this.processedTree=o;const s=this.options.notFoundRoute;s&&(s.init({originalIndex:99999999999}),this.routesById[s.id]=s)}get looseRoutesById(){return this.routesById}getParentContext(n){return n?.id?n.context??this.options.context??void 0:this.options.context??void 0}matchRoutesInternal(n,e){const o=this.getMatchedRoutes(n.pathname),{foundRoute:s,routeParams:r,parsedParams:a}=o;let{matchedRoutes:i}=o,c=!1;(s?s.path!=="/"&&r["**"]:H(n.pathname))&&(this.options.notFoundRoute?i=[...i,this.options.notFoundRoute]:c=!0);const l=c?ts(this.options.notFoundMode,i):void 0,h=new Array(i.length);for(let d=0;d<i.length;d++){const u=i[d],f=h[d-1];let p,m,g;{const M=f?.search??n.search,I=f?._strictSearch??void 0;try{const F=Nt(u.options.validateSearch,{...M})??void 0;p={...M,...F},m={...I,...F},g=void 0}catch(F){let st=F;if(F instanceof Ht||(st=new Ht(F.message,{cause:F})),e?.throwOnError)throw st;p=M,m={},g=st}}const x=u.options.loaderDeps?.({search:p})??"",w=x?JSON.stringify(x):"",{interpolatedPath:P,usedParams:S}=oe({path:u.fullPath,params:r,decoder:this.pathParamsDecoder,server:this.isServer}),k=u.id+P+w,L=this.getMatch(k),_=this.state.matches.find(M=>M.routeId===u.id),v=L?._strictParams??S;let R;if(!L)try{Xe(u,S,a,v)}catch(M){if(N(M)||D(M)?R=M:R=new Jo(M.message,{cause:M}),e?.throwOnError)throw R}Object.assign(r,v);const T=_?"stay":"enter";let C;if(L)C={...L,cause:T,params:_?A(_.params,r):r,_strictParams:v,search:A(_?_.search:L.search,p),_strictSearch:m};else{const M=u.options.loader||u.options.beforeLoad||u.lazyFn||Ln(u)?"pending":"success";C={id:k,ssr:u.options.ssr,index:d,routeId:u.id,params:_?A(_.params,r):r,_strictParams:v,pathname:P,updatedAt:Date.now(),search:_?A(_.search,p):p,_strictSearch:m,searchError:void 0,status:M,isFetching:!1,error:void 0,paramsError:R,__routeContext:void 0,_nonReactive:{loadPromise:lt()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:T,loaderDeps:_?A(_.loaderDeps,x):x,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:u.options.staticData||{},fullPath:u.fullPath}}e?.preload||(C.globalNotFound=l===u.id),C.searchError=g;const E=this.getParentContext(f);C.context={...E,...C.__routeContext,...C.__beforeLoadContext},h[d]=C}for(let d=0;d<h.length;d++){const u=h[d],f=this.looseRoutesById[u.routeId];if(!this.getMatch(u.id)){const m=h[d-1],g=this.getParentContext(m);if(f.options.context){const x={deps:u.loaderDeps,params:u.params,context:g??{},location:n,navigate:w=>this.navigate({...w,_fromLocation:n}),buildLocation:this.buildLocation,cause:u.cause,abortController:u.abortController,preload:!!u.preload,matches:h};u.__routeContext=f.options.context(x)??void 0}u.context={...g,...u.__routeContext,...u.__beforeLoadContext}}}return h}matchRoutesLightweight(n){const{matchedRoutes:e,routeParams:o,parsedParams:s}=this.getMatchedRoutes(n.pathname),r=wt(e),a={...n.search};for(const h of e)try{Object.assign(a,Nt(h.options.validateSearch,a))}catch{}const i=wt(this.state.matches),c=i&&i.routeId===r.id&&n.pathname===this.state.location.pathname;let l;if(c)l=i.params;else{const h={...o};for(const d of e)try{Xe(d,o,s??{},h)}catch{}l=h}return{matchedRoutes:e,fullPath:r.fullPath,search:a,params:l}}}class Ht extends Error{}class Jo extends Error{}function Yo(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Nt(t,n){if(t==null)return{};if("~standard"in t){const e=t["~standard"].validate(n);if(e instanceof Promise)throw new Ht("Async validation not supported");if(e.issues)throw new Ht(JSON.stringify(e.issues,void 0,2),{cause:e});return e.value}return"parse"in t?t.parse(n):typeof t=="function"?t(n):{}}function Xo({pathname:t,routesById:n,processedTree:e}){const o={},s=H(t);let r,a;const i=yo(s,e,!0);return i&&(r=i.route,Object.assign(o,i.rawParams),a=Object.assign({},i.parsedParams)),{matchedRoutes:i?.branch||[n[B]],routeParams:o,foundRoute:r,parsedParams:a}}function Zo({search:t,dest:n,destRoutes:e,_includeValidateSearch:o}){return Qo(e)(t,n,o??!1)}function Qo(t){const n={dest:null,_includeValidateSearch:!1,middlewares:[]};for(const s of t){if("search"in s.options)s.options.search?.middlewares&&n.middlewares.push(...s.options.search.middlewares);else if(s.options.preSearchFilters||s.options.postSearchFilters){const r=({search:a,next:i})=>{let c=a;"preSearchFilters"in s.options&&s.options.preSearchFilters&&(c=s.options.preSearchFilters.reduce((h,d)=>d(h),a));const l=i(c);return"postSearchFilters"in s.options&&s.options.postSearchFilters?s.options.postSearchFilters.reduce((h,d)=>d(h),l):l};n.middlewares.push(r)}if(s.options.validateSearch){const r=({search:a,next:i})=>{const c=i(a);if(!n._includeValidateSearch)return c;try{return{...c,...Nt(s.options.validateSearch,c)??void 0}}catch{return c}};n.middlewares.push(r)}}const e=({search:s})=>{const r=n.dest;return r.search?r.search===!0?s:q(r.search,s):{}};n.middlewares.push(e);const o=(s,r,a)=>{if(s>=a.length)return r;const i=a[s];return i({search:r,next:l=>o(s+1,l,a)})};return function(r,a,i){return n.dest=a,n._includeValidateSearch=i,o(0,r,n.middlewares)}}function ts(t,n){if(t!=="root")for(let e=n.length-1;e>=0;e--){const o=n[e];if(o.children)return o.id}return B}function Xe(t,n,e,o){const s=t.options.params?.parse??t.options.parseParams;if(s)if(t.options.skipRouteOnParseError)for(const r in n)r in e&&(o[r]=e[r]);else{const r=s(o);Object.assign(o,r)}}const es="Error preloading route! ";class Mn{constructor(n){if(this.init=e=>{this.originalIndex=e.originalIndex;const o=this.options,s=!o?.path&&!o?.id;this.parentRoute=this.options.getParentRoute?.(),s?this._path=B:this.parentRoute||K(!1);let r=s?B:o?.path;r&&r!=="/"&&(r=xn(r));const a=o?.id||r;let i=s?B:jt([this.parentRoute.id===B?"":this.parentRoute.id,a]);r===B&&(r="/"),i!==B&&(i=jt(["/",i]));const c=i===B?"/":jt([this.parentRoute.fullPath,r]);this._path=r,this._id=i,this._fullPath=c,this._to=H(c)},this.addChildren=e=>this._addFileChildren(e),this._addFileChildren=e=>(Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this),this._addFileTypes=()=>this,this.updateLoader=e=>(Object.assign(this.options,e),this),this.update=e=>(Object.assign(this.options,e),this),this.lazy=e=>(this.lazyFn=e,this),this.redirect=e=>Uo({from:this.fullPath,...e}),this.options=n||{},this.isRoot=!n?.getParentRoute,n?.id&&n?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class ns extends Mn{constructor(n){super(n)}}const Tt=typeof window<"u"?b.useLayoutEffect:b.useEffect;function re(t){const n=b.useRef({value:t,prev:null}),e=n.current.value;return t!==e&&(n.current={value:t,prev:e}),n.current.prev}function os(t,n,e={},o={}){b.useEffect(()=>{if(!t.current||o.disabled||typeof IntersectionObserver!="function")return;const s=new IntersectionObserver(([r])=>{n(r)},e);return s.observe(t.current),()=>{s.disconnect()}},[n,e,o.disabled,t])}function ss(t){const n=b.useRef(null);return b.useImperativeHandle(t,()=>n.current,[]),n}function xe(t){const n=t.errorComponent??Se;return y.jsx(rs,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:e,reset:o})=>e?b.createElement(n,{error:e,reset:o}):t.children})}class rs extends b.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(n){return{resetKey:n.getResetKey()}}static getDerivedStateFromError(n){return{error:n}}reset(){this.setState({error:null})}componentDidUpdate(n,e){e.error&&e.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(n,e){this.props.onCatch&&this.props.onCatch(n,e)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Se({error:t}){const[n,e]=b.useState(!1);return y.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[y.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),y.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>e(o=>!o),children:n?"Hide Error":"Show Error"})]}),y.jsx("div",{style:{height:".25rem"}}),n?y.jsx("div",{children:y.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?y.jsx("code",{children:t.message}):null})}):null]})}function is({children:t,fallback:n=null}){return Tn()?y.jsx(Pt.Fragment,{children:t}):y.jsx(Pt.Fragment,{children:n})}function Tn(){return Pt.useSyncExternalStore(as,()=>!0,()=>!1)}function as(){return()=>{}}var ie={exports:{}},ae={},ce={exports:{}},le={};var Ze;function cs(){if(Ze)return le;Ze=1;var t=fn();function n(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var e=typeof Object.is=="function"?Object.is:n,o=t.useState,s=t.useEffect,r=t.useLayoutEffect,a=t.useDebugValue;function i(d,u){var f=u(),p=o({inst:{value:f,getSnapshot:u}}),m=p[0].inst,g=p[1];return r(function(){m.value=f,m.getSnapshot=u,c(m)&&g({inst:m})},[d,f,u]),s(function(){return c(m)&&g({inst:m}),d(function(){c(m)&&g({inst:m})})},[d]),a(f),f}function c(d){var u=d.getSnapshot;d=d.value;try{var f=u();return!e(d,f)}catch{return!0}}function l(d,u){return u()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:i;return le.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,le}var Qe;function ls(){return Qe||(Qe=1,ce.exports=cs()),ce.exports}var tn;function us(){if(tn)return ae;tn=1;var t=fn(),n=ls();function e(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var o=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,r=t.useRef,a=t.useEffect,i=t.useMemo,c=t.useDebugValue;return ae.useSyncExternalStoreWithSelector=function(l,h,d,u,f){var p=r(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=i(function(){function x(L){if(!w){if(w=!0,P=L,L=u(L),f!==void 0&&m.hasValue){var _=m.value;if(f(_,L))return S=_}return S=L}if(_=S,o(P,L))return _;var v=u(L);return f!==void 0&&f(_,v)?(P=L,_):(P=L,S=v)}var w=!1,P,S,k=d===void 0?null:d;return[function(){return x(h())},k===null?void 0:function(){return x(k())}]},[h,d,u,f]);var g=s(l,p[0],p[1]);return a(function(){m.hasValue=!0,m.value=g},[g]),c(g),g},ae}var en;function ds(){return en||(en=1,ie.exports=us()),ie.exports}var hs=ds();function fs(t,n=o=>o,e={}){const o=e.equal??ps;return hs.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,n,o)}function ps(t,n){if(Object.is(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(const[o,s]of t)if(!n.has(o)||!Object.is(s,n.get(o)))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(const o of t)if(!n.has(o))return!1;return!0}if(t instanceof Date&&n instanceof Date)return t.getTime()===n.getTime();const e=nn(t);if(e.length!==nn(n).length)return!1;for(let o=0;o<e.length;o++)if(!Object.prototype.hasOwnProperty.call(n,e[o])||!Object.is(t[e[o]],n[e[o]]))return!1;return!0}function nn(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const ue=b.createContext(null);function En(){return typeof document>"u"?ue:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=ue,ue)}function $(t){const n=b.useContext(En());return t?.warn,n}function U(t){const n=$({warn:t?.router===void 0}),e=t?.router||n,o=b.useRef(void 0);return fs(e.__store,s=>{if(t?.select){if(t.structuralSharing??e.options.defaultStructuralSharing){const r=A(o.current,t.select(s));return o.current=r,r}return t.select(s)}return s})}const qt=b.createContext(void 0),ms=b.createContext(void 0);function W(t){const n=b.useContext(t.from?ms:qt);return U({select:o=>{const s=o.matches.find(r=>t.from?t.from===r.routeId:r.id===n);if(K(!((t.shouldThrow??!0)&&!s),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),s!==void 0)return t.select?t.select(s):s},structuralSharing:t.structuralSharing})}function Pe(t){return W({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:n=>t.select?t.select(n.loaderData):n.loaderData})}function we(t){const{select:n,...e}=t;return W({...e,select:o=>n?n(o.loaderDeps):o.loaderDeps})}function _e(t){return W({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:n=>{const e=t.strict===!1?n.params:n._strictParams;return t.select?t.select(e):e}})}function Re(t){return W({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:n=>t.select?t.select(n.search):n.search})}function be(t){const n=$();return b.useCallback(e=>n.navigate({...e,from:e.from??t?.from}),[t?.from,n])}var gs=Yn();function ys(t,n){const e=$(),o=ss(n),{activeProps:s,inactiveProps:r,activeOptions:a,to:i,preload:c,preloadDelay:l,hashScrollIntoView:h,replace:d,startTransition:u,resetScroll:f,viewTransition:p,children:m,target:g,disabled:x,style:w,className:P,onClick:S,onFocus:k,onMouseEnter:L,onMouseLeave:_,onTouchStart:v,ignoreBlocker:R,params:T,search:C,hash:E,state:M,mask:I,reloadDocument:F,unsafeRelative:st,from:Vn,_fromLocation:cr,...Me}=t,Te=Tn(),zn=U({select:O=>O.location.search,structuralSharing:!0}),Ee=t.from,dt=b.useMemo(()=>({...t,from:Ee}),[e,zn,Ee,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),z=b.useMemo(()=>e.buildLocation({...dt}),[e,dt]),Ie=z.maskedLocation?z.maskedLocation.publicHref:z.publicHref,Oe=z.maskedLocation?z.maskedLocation.external:z.external,ht=b.useMemo(()=>_s(Ie,Oe,e.history,x),[x,Oe,Ie,e.history]),bt=b.useMemo(()=>{if(ht?.external)return $t(ht.href)?void 0:ht.href;if(!Rs(i)&&!(typeof i!="string"||i.indexOf(":")===-1))try{return new URL(i),$t(i)?void 0:i}catch{}},[i,ht]),Yt=U({select:O=>{if(bt)return!1;if(a?.exact){if(!_o(O.location.pathname,z.pathname,e.basepath))return!1}else{const j=zt(O.location.pathname,e.basepath),V=zt(z.pathname,e.basepath);if(!(j.startsWith(V)&&(j.length===V.length||j[V.length]==="/")))return!1}return(a?.includeSearch??!0)&&!tt(O.location.search,z.search,{partial:!a?.exact,ignoreUndefined:!a?.explicitUndefined})?!1:a?.includeHash?Te&&O.location.hash===z.hash:!0}}),Lt=Yt?q(s,{})??vs:de,Ct=Yt?de:q(r,{})??de,Fe=[P,Lt.className,Ct.className].filter(Boolean).join(" "),je=(w||Lt.style||Ct.style)&&{...w,...Lt.style,...Ct.style},[Wn,Ae]=b.useState(!1),Ne=b.useRef(!1),rt=t.reloadDocument||bt?!1:c??e.options.defaultPreload,Xt=l??e.options.defaultPreloadDelay??0,X=b.useCallback(()=>{e.preloadRoute({...dt}).catch(O=>{console.warn(O),console.warn(es)})},[e,dt]),Hn=b.useCallback(O=>{O?.isIntersecting&&X()},[X]);os(o,Hn,ws,{disabled:!!x||rt!=="viewport"}),b.useEffect(()=>{Ne.current||!x&&rt==="render"&&(X(),Ne.current=!0)},[x,X,rt]);const Kn=O=>{const j=O.currentTarget.getAttribute("target"),V=g!==void 0?g:j;if(!x&&!bs(O)&&!O.defaultPrevented&&(!V||V==="_self")&&O.button===0){O.preventDefault(),gs.flushSync(()=>{Ae(!0)});const De=e.subscribe("onResolved",()=>{De(),Ae(!1)});e.navigate({...dt,replace:d,resetScroll:f,hashScrollIntoView:h,startTransition:u,viewTransition:p,ignoreBlocker:R})}};if(bt)return{...Me,ref:o,href:bt,...m&&{children:m},...g&&{target:g},...x&&{disabled:x},...w&&{style:w},...P&&{className:P},...S&&{onClick:S},...k&&{onFocus:k},...L&&{onMouseEnter:L},..._&&{onMouseLeave:_},...v&&{onTouchStart:v}};const Be=O=>{x||rt&&X()},Gn=Be,qn=O=>{if(!(x||!rt))if(!Xt)X();else{const j=O.target;if(gt.has(j))return;const V=setTimeout(()=>{gt.delete(j),X()},Xt);gt.set(j,V)}},Jn=O=>{if(x||!rt||!Xt)return;const j=O.target,V=gt.get(j);V&&(clearTimeout(V),gt.delete(j))};return{...Me,...Lt,...Ct,href:ht?.href,ref:o,onClick:yt([S,Kn]),onFocus:yt([k,Be]),onMouseEnter:yt([L,qn]),onMouseLeave:yt([_,Jn]),onTouchStart:yt([v,Gn]),disabled:!!x,target:g,...je&&{style:je},...Fe&&{className:Fe},...x&&xs,...Yt&&Ss,...Te&&Wn&&Ps}}const de={},vs={className:"active"},xs={role:"link","aria-disabled":!0},Ss={"data-status":"active","aria-current":"page"},Ps={"data-transitioning":"transitioning"},gt=new WeakMap,ws={rootMargin:"100px"},yt=t=>n=>{for(const e of t)if(e){if(n.defaultPrevented)return;e(n)}};function _s(t,n,e,o){if(!o)return n?{href:t,external:!0}:{href:e.createHref(t)||"/",external:!1}}function Rs(t){if(typeof t!="string")return!1;const n=t.charCodeAt(0);return n===47?t.charCodeAt(1)!==47:n===46}const Le=b.forwardRef((t,n)=>{const{_asChild:e,...o}=t,{type:s,...r}=ys(o,n),a=typeof o.children=="function"?o.children({isActive:r["data-status"]==="active"}):o.children;if(!e){const{disabled:i,...c}=r;return b.createElement("a",c,a)}return b.createElement(e,r,a)});function bs(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class Ls extends Mn{constructor(n){super(n),this.useMatch=e=>W({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>W({...e,from:this.id,select:o=>e?.select?e.select(o.context):o.context}),this.useSearch=e=>Re({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>_e({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>we({...e,from:this.id}),this.useLoaderData=e=>Pe({...e,from:this.id}),this.useNavigate=()=>be({from:this.fullPath}),this.Link=Pt.forwardRef((e,o)=>y.jsx(Le,{ref:o,from:this.fullPath,...e})),this.$$typeof=Symbol.for("react.memo")}}function Ce(t){return new Ls(t)}class Cs extends ns{constructor(n){super(n),this.useMatch=e=>W({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>W({...e,from:this.id,select:o=>e?.select?e.select(o.context):o.context}),this.useSearch=e=>Re({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>_e({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>we({...e,from:this.id}),this.useLoaderData=e=>Pe({...e,from:this.id}),this.useNavigate=()=>be({from:this.fullPath}),this.Link=Pt.forwardRef((e,o)=>y.jsx(Le,{ref:o,from:this.fullPath,...e})),this.$$typeof=Symbol.for("react.memo")}}function ks(t){return new Cs(t)}function on(t){return typeof t=="object"?new sn(t,{silent:!0}).createRoute(t):new sn(t,{silent:!0}).createRoute}class sn{constructor(n,e){this.path=n,this.createRoute=o=>{this.silent;const s=Ce(o);return s.isRoot=!1,s},this.silent=e?.silent}}class rn{constructor(n){this.useMatch=e=>W({select:e?.select,from:this.options.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>W({from:this.options.id,select:o=>e?.select?e.select(o.context):o.context}),this.useSearch=e=>Re({select:e?.select,structuralSharing:e?.structuralSharing,from:this.options.id}),this.useParams=e=>_e({select:e?.select,structuralSharing:e?.structuralSharing,from:this.options.id}),this.useLoaderDeps=e=>we({...e,from:this.options.id}),this.useLoaderData=e=>Pe({...e,from:this.options.id}),this.useNavigate=()=>{const e=$();return be({from:e.routesById[this.options.id].fullPath})},this.options=n,this.$$typeof=Symbol.for("react.memo")}}function an(t){return typeof t=="object"?new rn(t):n=>new rn({id:t,...n})}function Ms(){const t=$(),n=b.useRef({router:t,mounted:!1}),[e,o]=b.useState(!1),{hasPendingMatches:s,isLoading:r}=U({select:d=>({isLoading:d.isLoading,hasPendingMatches:d.matches.some(u=>u.status==="pending")}),structuralSharing:!0}),a=re(r),i=r||e||s,c=re(i),l=r||s,h=re(l);return t.startTransition=d=>{o(!0),b.startTransition(()=>{d(),o(!1)})},b.useEffect(()=>{const d=t.history.subscribe(t.load),u=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return H(t.latestLocation.publicHref)!==H(u.publicHref)&&t.commitLocation({...u,replace:!0}),()=>{d()}},[t,t.history]),Tt(()=>{if(typeof window<"u"&&t.ssr||n.current.router===t&&n.current.mounted)return;n.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(u){console.error(u)}})()},[t]),Tt(()=>{a&&!r&&t.emit({type:"onLoad",...et(t.state)})},[a,t,r]),Tt(()=>{h&&!l&&t.emit({type:"onBeforeRouteMount",...et(t.state)})},[l,h,t]),Tt(()=>{if(c&&!i){const d=et(t.state);t.emit({type:"onResolved",...d}),t.__store.setState(u=>({...u,status:"idle",resolvedLocation:u.location})),d.hrefChanged&&Oo(t)}},[i,c,t]),null}function Ts(t){const n=U({select:e=>`not-found-${e.location.pathname}-${e.status}`});return y.jsx(xe,{getResetKey:()=>n,onCatch:(e,o)=>{if(N(e))t.onCatch?.(e,o);else throw e},errorComponent:({error:e})=>{if(N(e))return t.fallback?.(e);throw e},children:t.children})}function Es(){return y.jsx("p",{children:"Not Found"})}function it(t){return y.jsx(y.Fragment,{children:t.children})}function In(t,n,e){return n.options.notFoundComponent?y.jsx(n.options.notFoundComponent,{...e}):t.options.defaultNotFoundComponent?y.jsx(t.options.defaultNotFoundComponent,{...e}):y.jsx(Es,{})}function Is(){return $().isScrollRestoring,null}const On=b.memo(function({matchId:n}){const e=$(),o=U({select:m=>{const g=m.matches.findIndex(w=>w.id===n),x=m.matches[g];return K(x),{routeId:x.routeId,ssr:x.ssr,_displayPending:x._displayPending,resetKey:m.loadedAt,parentRouteId:m.matches[g-1]?.routeId}},structuralSharing:!0}),s=e.routesById[o.routeId],r=s.options.pendingComponent??e.options.defaultPendingComponent,a=r?y.jsx(r,{}):null,i=s.options.errorComponent??e.options.defaultErrorComponent,c=s.options.onCatch??e.options.defaultOnCatch,l=s.isRoot?s.options.notFoundComponent??e.options.notFoundRoute?.options.component:s.options.notFoundComponent,h=o.ssr===!1||o.ssr==="data-only",d=(!s.isRoot||s.options.wrapInSuspense||h)&&(s.options.wrapInSuspense??r??(s.options.errorComponent?.preload||h))?b.Suspense:it,u=i?xe:it,f=l?Ts:it,p=s.isRoot?s.options.shellComponent??it:it;return y.jsxs(p,{children:[y.jsx(qt.Provider,{value:n,children:y.jsx(d,{fallback:a,children:y.jsx(u,{getResetKey:()=>o.resetKey,errorComponent:i||Se,onCatch:(m,g)=>{if(N(m))throw m;c?.(m,g)},children:y.jsx(f,{fallback:m=>{if(!l||m.routeId&&m.routeId!==o.routeId||!m.routeId&&!s.isRoot)throw m;return b.createElement(l,m)},children:h||o._displayPending?y.jsx(is,{fallback:a,children:y.jsx(cn,{matchId:n})}):y.jsx(cn,{matchId:n})})})})}),o.parentRouteId===B&&e.options.scrollRestoration?y.jsxs(y.Fragment,{children:[y.jsx(Os,{}),y.jsx(Is,{})]}):null]})});function Os(){const t=$(),n=b.useRef(void 0);return y.jsx("script",{suppressHydrationWarning:!0,ref:e=>{e&&(n.current===void 0||n.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...et(t.state)}),n.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const cn=b.memo(function({matchId:n}){const e=$(),{match:o,key:s,routeId:r}=U({select:c=>{const l=c.matches.find(p=>p.id===n),h=l.routeId,u=(e.routesById[h].options.remountDeps??e.options.defaultRemountDeps)?.({routeId:h,loaderDeps:l.loaderDeps,params:l._strictParams,search:l._strictSearch});return{key:u?JSON.stringify(u):void 0,routeId:h,match:{id:l.id,status:l.status,error:l.error,invalid:l.invalid,_forcePending:l._forcePending,_displayPending:l._displayPending}}},structuralSharing:!0}),a=e.routesById[r],i=b.useMemo(()=>{const c=a.options.component??e.options.defaultComponent;return c?y.jsx(c,{},s):y.jsx(Fn,{})},[s,a.options.component,e.options.defaultComponent]);if(o._displayPending)throw e.getMatch(o.id)?._nonReactive.displayPendingPromise;if(o._forcePending)throw e.getMatch(o.id)?._nonReactive.minPendingPromise;if(o.status==="pending"){const c=a.options.pendingMinMs??e.options.defaultPendingMinMs;if(c){const l=e.getMatch(o.id);if(l&&!l._nonReactive.minPendingPromise){const h=lt();l._nonReactive.minPendingPromise=h,setTimeout(()=>{h.resolve(),l._nonReactive.minPendingPromise=void 0},c)}}throw e.getMatch(o.id)?._nonReactive.loadPromise}if(o.status==="notFound")return K(N(o.error)),In(e,a,o.error);if(o.status==="redirected")throw K(D(o.error)),e.getMatch(o.id)?._nonReactive.loadPromise;if(o.status==="error")throw o.error;return i}),Fn=b.memo(function(){const n=$(),e=b.useContext(qt),o=U({select:l=>l.matches.find(h=>h.id===e)?.routeId}),s=n.routesById[o],r=U({select:l=>{const d=l.matches.find(u=>u.id===e);return K(d),d.globalNotFound}}),a=U({select:l=>{const h=l.matches,d=h.findIndex(u=>u.id===e);return h[d+1]?.id}}),i=n.options.defaultPendingComponent?y.jsx(n.options.defaultPendingComponent,{}):null;if(r)return In(n,s,void 0);if(!a)return null;const c=y.jsx(On,{matchId:a});return o===B?y.jsx(b.Suspense,{fallback:i,children:c}):c});function Fs(){const t=$(),e=t.routesById[B].options.pendingComponent??t.options.defaultPendingComponent,o=e?y.jsx(e,{}):null,s=typeof document<"u"&&t.ssr?it:b.Suspense,r=y.jsxs(s,{fallback:o,children:[y.jsx(Ms,{}),y.jsx(js,{})]});return t.options.InnerWrap?y.jsx(t.options.InnerWrap,{children:r}):r}function js(){const t=$(),n=U({select:s=>s.matches[0]?.id}),e=U({select:s=>s.loadedAt}),o=n?y.jsx(On,{matchId:n}):null;return y.jsx(qt.Provider,{value:n,children:t.options.disableGlobalCatchBoundary?o:y.jsx(xe,{getResetKey:()=>e,errorComponent:Se,onCatch:s=>{s.message||s.toString()},children:o})})}const As=t=>new Ns(t);class Ns extends qo{constructor(n){super(n)}}typeof globalThis<"u"?(globalThis.createFileRoute=on,globalThis.createLazyFileRoute=an):typeof window<"u"&&(window.createFileRoute=on,window.createLazyFileRoute=an);function Bs({router:t,children:n,...e}){Object.keys(e).length>0&&t.update({...t.options,...e,context:{...t.options.context,...e.context}});const o=En(),s=y.jsx(o.Provider,{value:t,children:n});return t.options.Wrap?y.jsx(t.options.Wrap,{children:s}):s}function Ds({router:t,...n}){return y.jsx(Bs,{router:t,...n,children:y.jsx(Fs,{})})}const Us=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$s=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,e,o)=>o?o.toUpperCase():e.toLowerCase()),ln=t=>{const n=$s(t);return n.charAt(0).toUpperCase()+n.slice(1)},jn=(...t)=>t.filter((n,e,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===e).join(" ").trim(),Vs=t=>{for(const n in t)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var zs={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ws=b.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:e=2,absoluteStrokeWidth:o,className:s="",children:r,iconNode:a,...i},c)=>b.createElement("svg",{ref:c,...zs,width:n,height:n,stroke:t,strokeWidth:o?Number(e)*24/Number(n):e,className:jn("lucide",s),...!r&&!Vs(i)&&{"aria-hidden":"true"},...i},[...a.map(([l,h])=>b.createElement(l,h)),...Array.isArray(r)?r:[r]]));const Rt=(t,n)=>{const e=b.forwardRef(({className:o,...s},r)=>b.createElement(Ws,{ref:r,iconNode:n,className:jn(`lucide-${Us(ln(t))}`,`lucide-${t}`,o),...s}));return e.displayName=ln(t),e};const Hs=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ks=Rt("calendar",Hs);const Gs=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qs=Rt("chevron-right",Gs);const Js=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],An=Rt("clock",Js);const Ys=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],un=Rt("lock",Ys);const Xs=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Zs=Rt("trophy",Xs);function Qs(t){return new Date(t).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function tr(t){return new Date(t).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}function er(t){return new Date(t).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}function nr(t){const n=Date.now(),e=t-n;if(e<=0)return"Started";const o=Math.floor(e/(1e3*60*60*24)),s=Math.floor(e%(1e3*60*60*24)/(1e3*60*60));if(o>0)return`${o}d ${s}h`;const r=Math.floor(e%(1e3*60*60)/(1e3*60));return`${s}h ${r}m`}const dn={upcoming:"bg-success-muted text-success border border-success/30",not_yet_open:"bg-surface-muted text-text-muted border border-border",locked:"bg-warning-muted text-warning border border-warning/30",finished:"bg-surface-muted text-text-muted border border-border"},hn={upcoming:y.jsx(An,{size:14}),not_yet_open:y.jsx(un,{size:14}),locked:y.jsx(un,{size:14}),finished:y.jsx(Zs,{size:14})},or={upcoming:"Open for predictions",not_yet_open:"Not yet open",locked:"Predictions locked",finished:"Finished"};function sr({status:t,isNext:n}){const e=t==="upcoming"&&!n?"not_yet_open":t,o=dn[e]||dn.upcoming,s=hn[e]||hn.upcoming,r=or[e]||e;return y.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-full border ${o}`,children:[s,r]})}function Nn({race:t,isNext:n,predictionOpenAt:e}){const o=t.status==="upcoming"&&n,s=t.status==="upcoming"&&!n;return y.jsx(Le,{to:"/races/$raceId",params:{raceId:t._id},className:`block bg-surface border rounded-xl p-5 transition-all duration-300 hover:shadow-md group ${n?"border-accent/50 hover:border-accent":"border-border hover:border-border-strong"}`,children:y.jsxs("div",{className:"flex items-start justify-between gap-4",children:[y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsxs("span",{className:"text-sm font-medium text-text-muted",children:["Round ",t.round]}),n&&y.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold bg-accent-muted text-accent rounded",children:"NEXT UP"})]}),y.jsx("h3",{className:"text-xl font-semibold text-text mb-3 truncate",children:t.name}),y.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-text-muted",children:[y.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[y.jsx(Ks,{size:16,className:"text-text-muted"}),Qs(t.raceStartAt)]}),y.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[y.jsx(An,{size:16,className:"text-text-muted"}),tr(t.raceStartAt)]}),o&&y.jsxs("span",{className:"text-accent font-medium",children:[nr(t.predictionLockAt)," to predict"]}),s&&e!=null&&y.jsxs("span",{className:"text-text-muted",children:["Opens ",er(e)]})]})]}),y.jsxs("div",{className:"flex flex-col items-end gap-3",children:[y.jsx(sr,{status:t.status,isNext:n}),y.jsx(qs,{size:20,className:"text-text-muted group-hover:text-text transition-colors"})]})]})})}Nn.__docgenInfo={description:"",methods:[],displayName:"RaceCard",props:{race:{required:!0,tsType:{name:"Doc",elements:[{name:"literal",value:"'races'"}],raw:"Doc<'races'>"},description:""},isNext:{required:!1,tsType:{name:"boolean"},description:""},predictionOpenAt:{required:!1,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:'When predictions open (previous race start). Shown for "not yet open" races.'}}};const Bn=b.createContext(null);function ke(){return b.useContext(Bn)??y.jsx(Fn,{})}const Dn=ks({component:ke}),Un=Ce({getParentRoute:()=>Dn,path:"races",component:ke}),rr=Ce({getParentRoute:()=>Un,path:"$raceId",component:ke}),ir=Dn.addChildren([Un.addChildren([rr])]),ar=As({routeTree:ir,defaultPreload:"intent"});function $n({children:t}){return y.jsx(Bn.Provider,{value:t,children:y.jsx(Ds,{router:ar})})}$n.__docgenInfo={description:"",methods:[],displayName:"StorybookRouter",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};function Jt(t={}){const n=Date.now(),e=1440*60*1e3;return{_id:"mockRace1",_creationTime:n,season:2026,round:1,name:"Bahrain Grand Prix",slug:"bahrain-2026",raceStartAt:n+7*e,predictionLockAt:n+6*e,status:"upcoming",createdAt:n-30*e,updatedAt:n,...t}}const hr={component:Nn,decorators:[t=>y.jsx($n,{children:y.jsx("div",{style:{maxWidth:480},children:y.jsx(t,{})})})]},Et={args:{race:Jt({status:"upcoming"}),isNext:!0,predictionOpenAt:null}},It={args:{race:Jt({round:2,name:"Saudi Arabian Grand Prix",slug:"saudi-2026",status:"upcoming"}),isNext:!1,predictionOpenAt:Date.now()+336*60*60*1e3}},Ot={args:{race:Jt({round:3,name:"Australian Grand Prix",slug:"australia-2026",status:"locked",raceStartAt:Date.now()-2880*60*1e3})}},Ft={args:{race:Jt({round:4,name:"Japanese Grand Prix",slug:"japan-2026",status:"finished",raceStartAt:Date.now()-336*60*60*1e3})}};Et.parameters={...Et.parameters,docs:{...Et.parameters?.docs,source:{originalSource:`{
  args: {
    race: mockRace({
      status: 'upcoming'
    }),
    isNext: true,
    predictionOpenAt: null
  }
}`,...Et.parameters?.docs?.source}}};It.parameters={...It.parameters,docs:{...It.parameters?.docs,source:{originalSource:`{
  args: {
    race: mockRace({
      round: 2,
      name: 'Saudi Arabian Grand Prix',
      slug: 'saudi-2026',
      status: 'upcoming'
    }),
    isNext: false,
    predictionOpenAt: Date.now() + 14 * 24 * 60 * 60 * 1000
  }
}`,...It.parameters?.docs?.source}}};Ot.parameters={...Ot.parameters,docs:{...Ot.parameters?.docs,source:{originalSource:`{
  args: {
    race: mockRace({
      round: 3,
      name: 'Australian Grand Prix',
      slug: 'australia-2026',
      status: 'locked',
      raceStartAt: Date.now() - 2 * 24 * 60 * 60 * 1000
    })
  }
}`,...Ot.parameters?.docs?.source}}};Ft.parameters={...Ft.parameters,docs:{...Ft.parameters?.docs,source:{originalSource:`{
  args: {
    race: mockRace({
      round: 4,
      name: 'Japanese Grand Prix',
      slug: 'japan-2026',
      status: 'finished',
      raceStartAt: Date.now() - 14 * 24 * 60 * 60 * 1000
    })
  }
}`,...Ft.parameters?.docs?.source}}};const fr=["NextUp","UpcomingNotOpen","Locked","Finished"];export{Ft as Finished,Ot as Locked,Et as NextUp,It as UpcomingNotOpen,fr as __namedExportsOrder,hr as default};
